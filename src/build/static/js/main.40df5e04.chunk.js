(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{10:function(t,n,o){"use strict";o.r(n),o.d(n,"getNewTokenThen",(function(){return a})),o.d(n,"addPlaylistToLibrary",(function(){return l}));o(1);var e=o(3),c=o.n(e),s=(o(8),o(0)),i=function(t,n,o,e){return Object(s.jsxs)("div",{className:"playlist-container",children:[Object(s.jsx)("div",{className:"cover-image-container",style:{backgroundImage:"url(".concat(t,")")}}),Object(s.jsx)("p",{className:"playlist-name",children:n}),Object(s.jsx)("p",{className:"playlist-description",children:o}),Object(s.jsx)("button",{onClick:function(){a(l,e)},className:"follow-button",children:"Add +"})]},e)},a=function(t,n){fetch("http://127.0.0.1:8000/spotifyapi",{}).then((function(t){if(200===t.status)return t.json()})).then((function(t){var n=t.access_token;return console.log(n),n})).then((function(o){t(o,n)})).catch((function(t){console.log(t)}))},l=function(t,n){fetch("https://api.spotify.com/v1/playlists/".concat(n,"/followers"),{method:"PUT",headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){200==t.status?(console.log("Success"),alert("Added to library!\ud83d\ude0e")):(console.log("Could not add playlist"),alert("Oops, Maybe you already follow this playlist? \ud83d\ude4a \nTry searching for it instead."))})).catch((function(t){console.log("Some shit went wrong"),console.log(t)}))};a((function(t,n){fetch("https://api.spotify.com/v1/users/".concat("nk0b80ekcsiwcpht16mym9gzr","/playlists"),{method:"GET",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}}).then((function(n){if(200===n.status)return console.log("good"),n.json();401===n.status&&(t=a(),console.log("bad"))})).then((function(t){var n=t.items;console.log(n);var o=function(){return Object(s.jsx)("div",{id:"playlists-grid",children:n.map((function(t){return Object(s.jsx)("div",{children:i(t.images[0].url,t.name,t.description,t.id)})}))})};c.a.render(Object(s.jsx)(o,{}),document.getElementById("root"))})).catch((function(t){console.log(t)}))}))},8:function(t,n,o){}},[[10,1,2]]]);
//# sourceMappingURL=main.40df5e04.chunk.js.map